{"ast":null,"code":"import _objectSpread from\"/media/devdeadviz/1AAA83FAAA83D125/Projects/TODO-App-With-Auth-and-Backend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/media/devdeadviz/1AAA83FAAA83D125/Projects/TODO-App-With-Auth-and-Backend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./App.css\";import{useState}from\"react\";import firebase,{auth,firestore}from\"./firebase\";import{useCollectionData}from\"react-firebase-hooks/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Todos=function Todos(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),todo=_useState2[0],setTodo=_useState2[1];var todosRef=firestore.collection(\"users/\".concat(auth.currentUser.uid,\"/todos\"));var _useCollectionData=useCollectionData(todosRef,{idField:\"id\"}),_useCollectionData2=_slicedToArray(_useCollectionData,1),todos=_useCollectionData2[0];var signOut=function signOut(){return auth.signOut();};var onSubmitTodo=function onSubmitTodo(event){event.preventDefault();setTodo(\"\");todosRef.add({text:todo,complete:false,createdAt:firebase.firestore.FieldValue.serverTimestamp()});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:signOut,children:\"Sign Out\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"heading\",children:\"TODO APP\"}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitTodo,children:[/*#__PURE__*/_jsx(\"input\",{required:true,value:todo,onChange:function onChange(e){return setTodo(e.target.value);},placeholder:\"What's Next?\",className:\"input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button-add\",children:\"Add\"})]}),todos&&todos.map(function(todo){return/*#__PURE__*/_jsx(Todo,_objectSpread({},todo),todo.id);})]})]});};var Todo=function Todo(_ref){var id=_ref.id,complete=_ref.complete,text=_ref.text;var todosRef=firestore.collection(\"users/\".concat(auth.currentUser.uid,\"/todos\"));var onCompleteTodo=function onCompleteTodo(id,complete){return todosRef.doc(id).set({complete:!complete},{merge:true});};var onDeleteTodo=function onDeleteTodo(id){return todosRef.doc(id).delete();};return/*#__PURE__*/_jsxs(\"div\",{className:\"todo\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"todo-item \".concat(complete?\"complete\":\"\"),tabIndex:\"0\",onClick:function onClick(){return onCompleteTodo(id,complete);},children:text}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return onDeleteTodo(id);},children:\"x\"})]},id);};export default Todos;","map":{"version":3,"sources":["/media/devdeadviz/1AAA83FAAA83D125/Projects/TODO-App-With-Auth-and-Backend/src/Todos.jsx"],"names":["useState","firebase","auth","firestore","useCollectionData","Todos","todo","setTodo","todosRef","collection","currentUser","uid","idField","todos","signOut","onSubmitTodo","event","preventDefault","add","text","complete","createdAt","FieldValue","serverTimestamp","e","target","value","map","id","Todo","onCompleteTodo","doc","set","merge","onDeleteTodo","delete"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport { useState } from \"react\";\nimport firebase, { auth, firestore } from \"./firebase\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\n\nconst Todos = () => {\n  const [todo, setTodo] = useState(\"\");\n  const todosRef = firestore.collection(`users/${auth.currentUser.uid}/todos`);\n  const [todos] = useCollectionData(todosRef, { idField: \"id\" });\n\n  const signOut = () => auth.signOut();\n\n  const onSubmitTodo = (event) => {\n    event.preventDefault();\n\n    setTodo(\"\");\n    todosRef.add({\n      text: todo,\n      complete: false,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n  };\n\n  return (\n    <>\n      <header>\n        <button onClick={signOut}>Sign Out</button>\n      </header>\n      <div className=\"heading\">TODO APP</div>\n      <main>\n        <form onSubmit={onSubmitTodo}>\n          <input\n            required\n            value={todo}\n            onChange={(e) => setTodo(e.target.value)}\n            placeholder=\"What's Next?\" className=\"input\"\n          />\n          <button type=\"submit\" className=\"button-add\">Add</button>\n        </form>\n        {todos && todos.map((todo) => <Todo key={todo.id} {...todo} />)}\n      </main>\n    </>\n  );\n};\n\nconst Todo = ({ id, complete, text }) => {\n  const todosRef = firestore.collection(`users/${auth.currentUser.uid}/todos`);\n  const onCompleteTodo = (id, complete) =>\n    todosRef.doc(id).set({ complete: !complete }, { merge: true });\n\n  const onDeleteTodo = (id) => todosRef.doc(id).delete();\n\n  return (\n    <div key={id} className=\"todo\">\n      <button\n        className={`todo-item ${complete ? \"complete\" : \"\"}`}\n        tabIndex=\"0\"\n        onClick={() => onCompleteTodo(id, complete)}\n      >\n        {text}\n      </button>\n      <button onClick={() => onDeleteTodo(id)}>x</button>\n    </div>\n  );\n};\n\nexport default Todos;"]},"metadata":{},"sourceType":"module"}